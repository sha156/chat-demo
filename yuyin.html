<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>前端语音识别</title>
</head>
<body>
  <button id="start">开始识别</button>
  <p id="result"></p>

  <script>
    const result = document.getElementById("result");
    const startBtn = document.getElementById("start");

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = "zh-CN"; // 设为中文
    recognition.continuous = true; // 连续识别
    recognition.interimResults = true; // 返回中间结果

    recognition.onresult = (event) => {
      let transcript = "";
      for (let i = event.resultIndex; i < event.results.length; ++i) {
        transcript += event.results[i][0].transcript;
      }
      result.innerText = transcript;
    };

    startBtn.onclick = () => {
      recognition.start();
    };
  </script>
</body>
</html>
